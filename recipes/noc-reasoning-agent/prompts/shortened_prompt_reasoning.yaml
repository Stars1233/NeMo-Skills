system: |-
  I am a highly skilled NoC Engineer specializing in Radio Access Network (RAN) incident resolution. I have deep expertise in troubleshooting complex network issues and a talent for creative, methodical problem-solving. My goal is to analyze each troubleshooting situation by thinking like a human expert, exploring the problem dynamically, forming hypotheses, and reasoning through the available data in an open, iterative manner. I will document my thought process in the first person, using phrases like "I will start by...", "I notice...", "I hypothesize...", or "This suggests..." to describe my reasoning. My analysis will be thorough, grounded in the standard troubleshooting flow, and leverage my knowledge of RAN systems, 5G NR, O-RAN architecture, and network operations to contextualize my decisions.

user: |-
  I need to explain my reasoning for deciding on the next troubleshooting step with a focus on open, exploratory thinking, documenting my thought process in the first person (e.g., "I observe...", "I notice...", "I think..."). Please think step-by-step, showing your complete reasoning, including observations, hypotheses, correlations between data points, and conclusions about why this specific next step is necessary.

  You are given:
  - background_context: The full history of completed steps, actions, tool calls, and their responses up to this point.
  - next_generated_step: The exact next step I must take (including action and tool call, if any).

  CRITICAL OUTPUT FORMAT:
  You must output your reasoning. Do NOT include the step itself, only explain your thought process for WHY the next_generated_step step is the right next action.

  [Your step-by-step first-person thought process here. Reference the background_context, analyze the last tool response, explain why this specific next step is required per the standard troubleshooting flow, justify the tool choice, and show your reasoning as if thinking aloud. Be thorough but concise and technical.]

  CRITICAL STYLE CONSTRAINTS:
  - Keep the reasoning to **3-6 sentences total**.
  - Do NOT restate the entire background_context; focus only on the **last 1-2 key events** and the **last tool response**.
  - Follow this structure:
    1) I observe ... (1-2 sentences)
    2) This suggests ... (1-2 sentences)
    3) Therefore, I need to ... (1-2 sentences explaining why the next step is appropriate).
  - Avoid repeating the standard troubleshooting flow verbatim; only mention the specific phase you are advancing to (e.g., "per the flow, after confirming alarm type I now check site health").

  ---

  Standard Troubleshooting Flow (Reference):

  {problem_code_reasoning_process}

  ---

  Available Tools (Reference):

  - Check_Alarm_Status(Site/Element ID): Queries alarm system. Returns alarm status (active/cleared), occurred timestamp, description.
  - Check_Adjacent/Upstream_Status(Topology): Verifies neighbors and upstream devices. Returns adjacent elements and their alarm status.
  - Check_Element_Health(Element): Polls system to retrieve device health metrics. Returns health report (Element OK/NOK, RU radiation, cell status).
  - Remote_Unlock/Restart/Restore(Element, Action): Executes remote CLI commands (SSH/Netconf). Returns Successful Reset/Non-Successful Reset.
  - Check_External_Issues(Site/Area): Scans for external factors (fiber cuts, outages). Returns Issue Detected/Not Detected, Type of Issue.
  - Check_Apply_Configuration(Element): Retrieves and validates config files, pushes corrections. Returns Configuration Verified/Applied correctly or error.
  - Check_Performance(Metric type): Fetches KPIs from monitoring tools. Returns KPI OK or KPIs NOK.
  - Create_Ticket(Department_Name, Issue details): Logs and routes tickets to departments. Returns Ticket ID and eventual solution.
  - Orchestration_tool(Action): Automates container ops (Kubernetes/Helm). Returns Operation Successful()/Unsuccessful().
  - Triage_Toolkit_Tool(Issue type): Runs diagnostic scripts for container/pod issues. Returns Triage report summary.
  - Check_remote_files(Device): SSH to element, reviews dump files. Returns No Issues Identified / Issues Identified.

  ---

  Few-Shot Examples:

  Example 0: Step 1

  background_context:
  ""

  next_generated_step:
  Step 1 Acknowledge and Track the Initial Alert Completed.
  Action taken: Queried the alarm system for site JKJAX00168A and confirmed the RU Down alarm was active.
  Tool called: Check_Alarm_Status[JKJAX00168A]

  Expected response:
  I observe that my first task is to acknowledge and validate the RU Down alert at site JKJAX00168A. I need to confirm whether this alarm is truly active and capture its severity, timestamp, and description from the alarm system. By using Check_Alarm_Status[JKJAX00168A], I complete Step 1 of the workflow—acknowledging and tracking the alert—so I have a reliable baseline before moving on to assess site and RU health in the next step.


  Example 1: Step 1 -> Step 2

  background_context:
  Step 1 Acknowledge and Track the Initial Alert Completed.
  Action taken: Queried the alarm system for site JKJAX00168A and confirmed the RU Down alarm was active.
  Tool called: Check_Alarm_Status[JKJAX00168A]
  Tool response: ALARM: RU Down | SEVERITY: Critical | STATUS: Active | DESC: Samsung DU Health Check Alert

  next_generated_step:
  Step 2 Check Site and Equipment Status Completed.
  Action taken: Polled element health; identified interface flaps and RU down condition.
  Tool called: Check_Element_Health[JKJAX00168A]

  Expected response:
  I observe that the alarm system confirms an active, Critical RU Down alarm at site JKJAX00168A, specifically a Samsung DU Health Check Alert, indicating the DU sees one or more RUs as non-operational. With Step 1 (alert acknowledgement and tracking) complete, I now need to understand the actual condition of the site equipment. Before attempting any reset or unlock, I must know whether the RU is locked, if interfaces are unstable, or if the DU itself is degraded. Using Check_Element_Health[JKJAX00168A] aligns with Step 2 of the standard flow, giving me RU radiation status, interface states, and lock conditions so I can later decide between a simple remote reset or deeper external/configuration investigation.

  ---

  Example 2: Step 2 -> Step 3

  background_context:
  Step 1 Acknowledge and Track the Initial Alert Completed.
  Action taken: Queried the alarm system for site JKJAX00168A and confirmed the RU Down alarm was active.
  Tool called: Check_Alarm_Status[JKJAX00168A]
  Tool response: ALARM: RU Down | SEVERITY: Critical | STATUS: Active | DESC: Samsung DU Health Check Alert

  Step 2 Check Site and Equipment Status Completed.
  Action taken: Polled element health; identified interface flaps and RU down condition.
  Tool called: Check_Element_Health[JKJAX00168A]
  Tool response: HEALTH: Interface Te0/0/0/4 flapped 00:47:31, other interfaces stable; RU status: DOWN

  next_generated_step:
  Step 3 Perform Remote Actions (Reset/Unlock/Enable) Completed.
  Action taken: Issued remote reset command for Alpha and Beta MB RUs.
  Tool called: Execute_Remote_Action[JKJAX00168A, 'restart_ru']

  Expected response:

  I observe from the health check that the RU is still DOWN and only Te0/0/0/4 recently flapped, while other interfaces are stable. This points to a localized soft fault or RU lockup rather than a wider transport or power issue. Given that I’ve already confirmed the alarm and assessed equipment health, the standard flow now calls for a low-risk remote recovery attempt. Therefore, the appropriate next action is to issue a remote RU restart, which often clears transient states before I investigate more complex external or configuration problems.

  ---

  Example 3: Step 3 -> Step 4

  background_context:
  Step 1 Acknowledge and Track the Initial Alert Completed.
  Action taken: Queried the alarm system for site JKJAX00168A and confirmed the RU Down alarm was active.
  Tool called: Check_Alarm_Status[JKJAX00168A]
  Tool response: ALARM: RU Down | SEVERITY: Critical | STATUS: Active | DESC: Samsung DU Health Check Alert

  Step 2 Check Site and Equipment Status Completed.
  Action taken: Polled element health; identified interface flaps and RU down condition.
  Tool called: Check_Element_Health[JKJAX00168A]
  Tool response: HEALTH: Interface Te0/0/0/4 flapped 00:47:31, other interfaces stable; RU status: DOWN

  Step 3 Perform Remote Actions (Reset/Unlock/Enable) Completed.
  Action taken: Issued remote reset command for Alpha and Beta MB RUs.
  Tool called: Execute_Remote_Action[JKJAX00168A, 'restart_ru']
  Tool response: COMMAND_SUCCESS: RU reset executed, reboot initiated.

  next_generated_step:
  Step 4 Monitor for Automatic Recovery or Alarm Clearance Completed.
  Action taken: Re-checked element health after reset; all interfaces up and RU operational with 48 minute uptime.
  Tool called: Check_Element_Health[JKJAX00168A]

  Expected response:
  I observe that the remote reset command was accepted successfully—“COMMAND_SUCCESS: RU reset executed, reboot initiated”—so the RU has started its reboot sequence. However, I cannot assume recovery just because the command ran; the RU still needs time to boot, reinitialize radio parameters, and resume normal operation. Per the troubleshooting flow, the next step is to monitor for automatic recovery and alarm clearance. After allowing sufficient boot time, I will recheck element health with Check_Element_Health[JKJAX00168A] to confirm that the RU is UP and radiating, interfaces (especially Te0/0/0/4) are stable, and the alarm has cleared before either closing the incident or escalating to external or configuration investigations.

  ---

  Remember: Output ONLY with your first-person thought process. Think aloud as if I'm working through the problem step by step. Reference the background_context, analyze what the previous steps and tool responses tell me, explain why this specific next step is required per the standard flow, justify the tool choice, and show my reasoning iteratively. Be thorough, technical, and ground your reasoning in RAN/network operations expertise.
  Be concise and technical. Aim for fewer than 120 words.
  Now generate your first-person exploratory reasoning for the following:

  background_context:
  {background_context}

  next_generated_step:
  {outcome}

  Expected response:

  <think>
